!function(){function a(){try{return"localStorage"in window&&null!==window.localStorage}catch(a){return!1}}function b(){var a=new Date;return a.getDate()+"."+(a.getMonth()+1)+"."+a.getFullYear()}function c(){r.addEventListener("click",i),t.addEventListener("click",j),u.addEventListener("click",k),v.addEventListener("click",l);for(var a=document.querySelectorAll(".button-done"),b=document.querySelectorAll(".button-delete"),c=document.querySelectorAll(".button-return"),d=document.querySelectorAll(".button-finally-delete"),e=0;e<a.length;e++)a[e].addEventListener("click",function(){m(this)}),b[e].addEventListener("click",function(){n(this)}),c[e].addEventListener("click",function(){o(this)}),d[e].addEventListener("click",function(){p(this)})}function d(){r=document.getElementById("add-to-do"),q=document.getElementById("output-area"),r=document.getElementById("add-to-do"),s=document.getElementById("what-to-do"),t=document.getElementById("hide-if-done"),u=document.getElementById("show-deleted"),v=document.getElementById("hide-deleted")}function e(){D?t.classList.add("hide-if-done-button-red"):t.classList.remove("hide-if-done-button-red")}function f(){s.classList.toggle("display-for-buttons-none"),r.classList.toggle("display-for-buttons-none"),t.classList.toggle("display-for-buttons-none"),u.classList.toggle("display-for-buttons-none"),v.classList.toggle("display-for-buttons-inline")}function g(a,b){for(var c=a;-1==c.className.replace(/[\n\t]/g," ").indexOf(b);){if("html"==c.tagName.toLowerCase())return!1;c=c.parentNode}return c}function h(){E&&localStorage.setItem("activeArea",w.innerHTML)}function i(){q.innerHTML+=x+"><p>"+s.value+"</p>"+z+A+B+C+y,c(),s.value="",h()}function j(){var a=document.querySelectorAll(".done");if(D){for(var b=0;b<a.length;b++)a[b].classList.remove("hide-task");D=!1,localStorage.setItem("hideToggle",!1)}else{for(var c=0;c<a.length;c++)a[c].classList.add("hide-task");D=!0,E&&localStorage.setItem("hideToggle",!0)}e(),h()}function k(){f();for(var a=document.querySelectorAll(".output"),b=0;b<a.length;b++)a[b].classList.add("hide-task");for(var c=document.querySelectorAll(".deleted"),d=0;d<c.length;d++)c[d].classList.remove("hide-task");h()}function l(){f();for(var a=document.querySelectorAll(".output"),b=0;b<a.length;b++)a[b].classList.remove("hide-task");for(var c=document.querySelectorAll(".deleted"),d=0;d<c.length;d++)c[d].classList.add("hide-task");if(D)for(var e=document.querySelectorAll(".done"),g=0;g<e.length;g++)e[g].classList.add("hide-task");h()}function m(a){var b=g(a,"output");if(b.classList.toggle("done"),D)for(var c=document.querySelectorAll(".done"),d=0;d<c.length;d++)c[d].classList.add("hide-task");h()}function n(a){var b=g(a,"output");b.classList.remove("done"),b.classList.add("deleted","hide-task"),h()}function o(a){var b=g(a,"output");b.classList.remove("deleted"),b.classList.add("hide-task"),h()}function p(a){var b=g(a,"output");confirm("Вы правда хотите окончательно удалить дело?")&&b.parentNode.removeChild(b),h()}var q,r,s,t,u,v,w=document.getElementById("active-area"),x="<div class='clearfix output'",y="</div>",z="<div class='button-done'>&#10004;</div>",A="<div class='button-delete'>&#10006;</div>",B="<div class='button-finally-delete'>&#10006;</div>",C="<div class='button-return'>&#8634;</div>",D=!1,E=a();if(E){D=localStorage.getItem("hideToggle");var F=localStorage.getItem("activeArea");D?("true"===D&&(D=!0),"false"===D&&(D=!1)):D=!1,F&&(w.innerHTML=F)}document.getElementById("current-date").innerHTML=b(),d(),c(),e()}();